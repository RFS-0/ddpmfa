{% extends "dpmfa/page.html" %}
{% load static %}

{% block title %}Project: {{project.name}}{% endblock %}

{% block body %}

<header>
    <nav class="navbar navbar-default">
      <div class="container-fluid">
        <div class="navbar-header">
          <span class="navbar-brand" href="#">Project: {{project.name}}</span>
        </div>
        <ul class="nav navbar-nav">
          <li>
              <a href="{% url "dpmfa:project-update" project.pk %}" data-toggle="tooltip" title="Edit Projet">
                <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                Edit Project
            </a>
          </li>
          <li>
               <a href="{% url "dpmfa:project-delete" project.pk %}" data-toggle="tooltip" title="Delete Project">
                <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                Delete Project
            </a>
          </li>
          <li>
            <a href="{% url "dpmfa:model-create" project.pk %}" data-toggle="tooltip" title="Delete Project">
                <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                New Model
          </li>
        </ul>
      </div>
</nav>
</header>

<div class="container">
    <div class="row">
        <div class="col-xs-12">
            <ol class="breadcrumb">
              <li class="breadcrumb-item"><a href="{% url 'dpmfa:home' %}">Home</a></li>
                <li class="breadcrumb-item"><a href="{% url 'dpmfa:project-list' %}">Projects</a></li>
              <li class="breadcrumb-item active">{{ project.name }}</li>
            </ol>

            <h1>Project &quot;{{ project.name }}&quot;</h1>

            {% if messages %}
                {% for message in messages %}
                <div class="alert alert-{% if message.tags == "success" or message.tags == "warning" %}{{ message.tags }}{% elif message.tags == "error" %}danger{% else %}info{% endif %}">{{ message }}</div>
                {% endfor %}
            {% endif %}

            <div class="dpfma-pre-wrap">{{ project.description }}</div>

            <h2>Models</h2>

            {% if project.models.all %}
                <table class="table table-stiped table-hover table-responsive">
                   <thead class="thead-inverse">
                    <tr>
                        <th>Name</th>
                        <th>Description</th>
                        <th>Actions</th>
                    </tr>
                   </thead>
                   <tbody>
                    {% for  model in project.models.all %}
                        <tr>
                            <td><a href="{% url 'dpmfa:model-detail' model.pk %}">{{ model.name }}</a></td>
                            <td class="dpfma-pre-wrap">{{ model.description }}</td>
                            <td>
                                 <a href="{% url "dpmfa:model-detail" model.pk %}" class="btn btn-default" data-toggle="tooltip" title="Go to model">
                                    <span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span>
                                </a>
                                 <a href="{% url "dpmfa:model-update" model.pk %}" class="btn btn-default" data-toggle="tooltip" title="Edit name / description">
                                    <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                                </a>
                                 <a href="{% url "dpmfa:model-delete" model.pk %}" class="btn btn-default" data-toggle="tooltip" title="Delete model">
                                    <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                                </a>
                            </td>
                        </tr>
                    {% endfor %}
                   </tbody>
               </table>
            {% else %}
                <div class="alert alert-info">There are no models</div>
            {% endif %}
        </div>
    </div>
</div>

{% endblock %}